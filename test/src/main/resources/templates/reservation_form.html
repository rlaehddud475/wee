<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>캠핑장 웹사이트(예약 후 main으로)</title>
<link rel="stylesheet" href="styles.css">
<!-- jQuery UI CSS -->
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<style>
/* 기존 CSS 스타일 유지 */
a {
	text-decoration-line: none;
}
body {
	font-family: Arial, sans-serif;
	margin: 0;
	padding: 0;
	box-sizing: border-box;
	background-color: #f9f9f9;
}
header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 15px 30px;
	background-color: #4CAF50;
	color: white;
}
.logo {
	font-size: 28px;
	font-weight: bold;
}
.menu a {
	margin-left: 20px;
	text-decoration: none;
	color: white;
	font-size: 18px;
}
.menu a:hover {
	text-decoration: underline;
}
main {
	display: flex;
	padding: 20px;
	height: 730px;
}
.left-section {
	flex: 1;
	padding-right: 20px;
}
.auth-section {
	background-color: white;
	padding: 15px;
	border-radius: 5px;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
	margin-bottom: 20px;
}
.auth-section h2 {
	margin-top: 0;
	font-size: 20px;
}
.login, .signup {
	margin-bottom: 10px;
	background-color: #4CAF50;
	color: white;
	padding: 10px;
	border-radius: 5px;
	text-align: center;
	cursor: pointer;
}
.login:hover, .signup:hover {
	background-color: #45a049;
}
.events {
	background-color: white;
	padding: 15px;
	border-radius: 5px;
	box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
	height: 500px;
}
.events h2 {
	margin-top: 0;
	font-size: 20px;
}
.events-list {
	border: 1px solid #ddd;
	padding: 10px;
	background-color: #fafafa;
	height: 430px;
}
.right-section {
	flex: 2;
	position: relative;
}
.prev {
	left: 10px;
}
.next {
	right: 10px;
}
footer {
	display: flex;
	justify-content: space-between;
	padding: 15px 30px;
	background-color: #4CAF50;
	color: white;
}
.contact, .weather {
	flex: 1;
	text-align: center;
}
.contact a {
	color: white;
	text-decoration: none;
}
.reservation {
	position: relative;
	width: 100%;
	height: 100%;
	overflow: hidden;
	border-radius: 10px;
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
	display: flex;
	justify-content: center;
	align-items: center;
}
.test {
	height: 300px;
}
.t1 {
	display: flex;
	justify-content: space-between;
}
.t1 > label {
	font-size: 25px;
	margin: 10px 0;
}
</style>
</head>
<body>

<header>
	<a href="main">
		<div class="logo">짱구 캠핑장!</div>
	</a>
	<nav class="menu">
		<a href="notices_board" id="notices" class="enabled">공지사항</a> <a href="reservation_form" id="reserve" class="enabled">예약하기</a> 
		<a href="#contact" id="contact" class="enabled">문의하기</a> <a href="events_board" id="events" class="enabled">이벤트</a>
	</nav>
</header>

<main>
	<div class="left-section">
		<div class="auth-section">
			<h2>회원 관리</h2>
			<div class="login">로그인</div>
			<div class="signup">회원가입</div>
		</div>
		<div class="events">
			<h2>이벤트 게시판</h2>
			<div class="events-list" >
			<div th:text="*{subject}"></div>
			</div>
		</div>
	</div>

	<div class="right-section">
		<div class="reservation" style="height: 705px;">
			<form name="f" th:action="@{/reservation_insert}" th:object="${vo}" method="post">
				<table border="1" align="center">
					<caption>:::캠핑장 예약:::</caption>
					<tr>
						<th>날짜</th>
						<td><input type="text" th:field="*{ReservationDate}" id="datepicker" name="date"></td>
						<th>인원 수</th>
						<td><input type="number" min="0" max="10" th:field="*{num_people}" name="num_people" id="num_peoele"></td>
					</tr>
					<td colspan="4" class="test">
						<div class="t1">
							<input type="checkbox" value="A1" name="camping_idx" id="A1"><label for="A1">A1</label> 
							<input type="checkbox" value="A2" name="camping_idx" id="A2"><label for="A2">A2</label>
							<input type="checkbox" value="A3" name="camping_idx" id="A3"><label for="A3">A3</label>
							<input type="checkbox" value="A4" name="camping_idx" id="A4"><label for="A4">A4</label> 
							<input type="checkbox" value="A5" name="camping_idx" id="A5"><label for="A5">A5</label>
						</div>
						<div class="t1">
							<input type="checkbox" value="B1" name="camping_idx" id="B1"><label for="B1">B1</label> 
							<input type="checkbox" value="B2" name="camping_idx" id="B2"><label for="B2">B2</label> 
							<input type="checkbox" value="B3" name="camping_idx" id="B3"><label for="B3">B3</label> 
							<input type="checkbox" value="B4" name="camping_idx" id="B4"><label for="B4">B4</label>
							<input type="checkbox" value="B5" name="camping_idx" id="B5"><label for="B5">B5</label>
						</div>
						<div class="t1">
							<input type="checkbox" value="C1" name="camping_idx" id="C1"><label for="C1">C1</label> 
							<input type="checkbox" value="C2" name="camping_idx" id="C2"><label for="C2">C2</label>
							<input type="checkbox" value="C3" name="camping_idx" id="C3"><label for="C3">C3</label>
							<input type="checkbox" value="C4" name="camping_idx" id="C4"><label for="C4">C4</label> 
							<input type="checkbox" value="C5" name="camping_idx" id="C5"><label for="C5">C5</label>
						</div>
						<div class="t1">
							<input type="checkbox" value="D1" name="camping_idx" id="D1"><label for="D1">D1</label> 
							<input type="checkbox" value="D2" name="camping_idx" id="D2"><label for="D2">D2</label> 
							<input type="checkbox" value="D3" name="camping_idx" id="D3"><label for="D3">D3</label> 
							<input type="checkbox" value="D4" name="camping_idx" id="D4"><label for="D4">D4</label>
							<input type="checkbox" value="D5" name="camping_idx" id="D5"><label for="D5">D5</label>
						</div>
						<div class="t1">
							<input type="checkbox" value="E1" name="camping_idx" id="E1"><label for="E1">E1</label> 
							<input type="checkbox" value="E2" name="camping_idx" id="E2"><label for="E2">E2</label>
							<input type="checkbox" value="E3" name="camping_idx" id="E3"><label for="E3">E3</label>
							<input type="checkbox" value="E4" name="camping_idx" id="E4"><label for="E4">E4</label> 
							<input type="checkbox" value="E5" name="camping_idx" id="E5"><label for="E5">E5</label>
						</div>
					</td>
					<tr>
						<td colspan="4">
<!-- 						  <div class="form-group" th:field="*{amount}"> -->
						 
<!--                 <label for="amount">결제 금액: </label> -->
<!-- 	           <input type="number" th:field="*{amount}" name="amount" required> -->
<!--             </div> -->
	 <div class="result">
            <p>총 금액: <span id="amount">20000</span> 원</p>
        </div>
<!--             <div class="form-group"> -->
<!--                 <label for="paymentMethod">결제 방법:</label> -->
<!--                 <select id="paymentMethod" name="paymentMethod" required> -->
<!--                     <option value="">선택하세요</option> -->
<!--                     <option value="credit_card">신용카드</option> -->
<!--                     <option value="paypal">PayPal</option> -->
<!--                     <option value="bank_transfer">은행 이체</option> -->
<!--                 </select> -->
<!--             </div> -->
						</td>
					</tr>
					<tr>
						<td colspan="4" align="center"><input type="button" value="예약하기" name="join"  id="reserve-button" > <a href="/main"> <input type="button" value="취소" name="cancel"></a></td>
					</tr>
				</table>
			</form>
			<div th:if="${errorMessage != null}" style="color: red;">
			    <p th:text="${errorMessage}" id="error"></p>
			</div>
		</div>
	</div>
</main>

<footer>
	<div class="contact">
		<p>문의사항이 있으면 전화해 주세요: <a href="tel:+123456789">+123456789</a></p>
	</div>
	<div class="weather">
		<p>현재 날씨: <span id="weather-info">정보 로딩 중...</span></p>
	</div>
</footer>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>
$(function() {
	// 날짜 선택기 초기화
	$("#datepicker").datepicker({
		dateFormat: 'yy-mm-dd',
		minDate: 0, // 오늘 날짜 이후만 선택 가능
		maxDate: "+1M +10D", // 현재 날짜로부터 1개월 + 10일 이내로 선택 가능
		changeMonth: true, // 월 변경 가능
		changeYear: true, // 연도 변경 가능
		onSelect: function() {
			// 날짜가 선택될 때 모든 체크박스를 초기화
			$("input[type='checkbox']").prop('checked', false);
		}
	});
	
	// 체크박스를 하나만 선택하도록 설정
	$(document).on('click', "input[type='checkbox']", function() {
		const checkboxes = $("input[type='checkbox']");
		if(this.checked) {
			checkboxes.not(this).prop('checked', false);
		}
	});
	 

	// 예약하기 버튼 클릭 시 폼 제출
	$("input[name='join']").on("click", function() {
		$("form[name='f']").submit();
	});
	
	// 문서가 로드되면 실행되는 함수
	document.addEventListener('DOMContentLoaded', function () {
	    // 오류 메시지가 모델에 있는지 확인
	    var errorMessage = /*[[${errorMessage}]]*/ '';
	    
	    alert("안녕");
	    
	    if (errorMessage) {
	        // 경고창으로 오류 메시지 표시
	        alert(errorMessage);
	    }
	});
	
	$("input[name='join']").on("click", function() {
		$("form[name='f']").submit();
	});
	
	var customerId = null; // null이면 고객 ID 없음, 예를 들어 "12345"와 같이 실제 ID로 설정

    // ID가 있는 경우 이벤트 클릭 비활성화
    if (customerId) {
        document.getElementById('events').classList.add('disabled');
        document.getElementById('events').classList.remove('enabled');
    } else {
        document.getElementById('events').classList.add('enabled');
        document.getElementById('events').classList.remove('disabled');
    }
});
</script>
</body>
</html>
